<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Coffee Frappe</title>
		 <!--MATERIAL ICONS-->
		 <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

		 <!-- Font Awesome link-->
		 <script src="https://kit.fontawesome.com/8709056933.js" crossorigin="anonymous"></script>
	 
		 <!-- Compiled and minified CSS -->
		 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	 
		<link rel="icon" type="image/x-icon" href="https://i.imgur.com/ChSKUzT.png">
		<link rel="stylesheet" type="text/css" href="styles.css"> </link>

		<!-- JS JQuery Functions -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
	</head>

<body>

    <!--CONTAINER-->
    <div class="navbar-fixed">
        <nav class="black nav-extended">
			<main>
            <div class="container">	
				<!-- Desserts Page Main Div-->			
				<div class="parent-container center-flex">	
                <div class="nav-wrapper">
                    <a href="" class="sidenav-trigger"
                    data-target="mobile-demo">
                        <i class="fa-solid fa-bars"></i>
                    </a>

                        <ul id="menu" class="right hide-on-med-and-down ">
                            <li>
                                <a href='/'>Home</a>
                            </li>
                            <li>
								<a href="coffeeshop.html#about">About Us</a>
                            </li>
                            <li>
                                <a href='/home'>Products</a>
                            </li>
                          

                            
                            <li>
                                <a href="" class="dropdown-trigger"
                                data-target="dropdown1">
                                    <i class="material-icons">arrow_drop_down</i>
                                </a>
                            </li>
                        </ul>
                        
                        <!-- Apply the center-title class to center the text -->
                    <h1 class="title center-title">COFEEE<span>FRAPPE</span></h1>
                </div>
                    
                    <!--drop down structure-->
                    <ul id="dropdown1" class = "dropdown-content">
                        <li>
                            <a href='/dessert'>DESSERTS</a>
                        </li>
                        <li>
                            <a href='/pastries'>PASTRIES</a>
                        </li>
                        <li>
                            <a href='/drinks'>DRINKS</a>
                        </li> 
                    </ul>
			
				
			
					<!-- Desserts Page Items -->
					<div class="menu-items center-flex">
                        <div class="item order-item">
                            <label class="item-name drink">CHOCO FRAPE</label>
                            <img src="https://static.wixstatic.com/media/422cc6_7e58e70b8b81454192e0bc97c6d2b680~mv2.png/v1/fill/w_160,h_213,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_7e58e70b8b81454192e0bc97c6d2b680~mv2.png">
                            <label class="price">P 150.00</label> 
                        </div>        
						<div class="item order-item">
                            <label class="item-name drink">CARAMEL FRAPPE</label>
                            <img src="https://static.wixstatic.com/media/422cc6_ff1b8e1b8f1443bea00defaa435dbe94~mv2.png/v1/fill/w_186,h_186,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_ff1b8e1b8f1443bea00defaa435dbe94~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name drink">HERSHEY FRAPPE </label>
                            <img src="https://static.wixstatic.com/media/422cc6_3d7fb7abda3b40b090d5c8069fb7b2fc~mv2.png/v1/fill/w_116,h_166,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_3d7fb7abda3b40b090d5c8069fb7b2fc~mv2.png"> 
                            <label class="price">P 150.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name drink">OREO FRAPPE</label>
                            <img src="https://static.wixstatic.com/media/422cc6_6dd851875c784d38956d15211acffee4~mv2.png/v1/fill/w_166,h_166,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_6dd851875c784d38956d15211acffee4~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name drink">ICE COFFEE FRAPPE </label>
                            <img src="https://static.wixstatic.com/media/422cc6_e30857dd65df42d6aad2e097fda11e68~mv2.png/v1/fill/w_145,h_211,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_e30857dd65df42d6aad2e097fda11e68~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name drink">CREAMY LATTE FRAPPE </label>
                            <img src="https://static.wixstatic.com/media/422cc6_5bf8df01964f44f7aa746f463430dc51~mv2.png/v1/fill/w_190,h_127,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_5bf8df01964f44f7aa746f463430dc51~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name drink">CARAMEL MILK FRAPPE </label>
                            <img src="https://static.wixstatic.com/media/422cc6_bc8fbf44d75345bfa5aa22e6441bc176~mv2.png/v1/fill/w_157,h_185,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_bc8fbf44d75345bfa5aa22e6441bc176~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
                        <div class="item order-item">
                            <label class="item-name drink">ICED TEA FRAPPE</label>
                            <img src="https://static.wixstatic.com/media/422cc6_279a97f8012b4243a0a924045ac828e8~mv2.png/v1/fill/w_127,h_137,al_c,q_85,usm_0.66_1.00_0.01,enc_auto/422cc6_279a97f8012b4243a0a924045ac828e8~mv2.png"> 
                            <label class="price">P 100.00</label> 
                        </div>
					</div>
				</div>
			</div>
			</main>
		</nav>
	</div>

        <!--SIDENAV STRUCTURE-->
    
        <ul class="sidenav" id="mobile-demo">
            <li>
				<a href='/'>HOME</a>
			</li>
			<li>
				<a href='/#about'>ABOUT US</a>
			</li>
            <li>
                <a href='/home'>PRODUCTS</a>
            </li>
          
        </ul>
	


    <!-- Jquery CDN -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script>
         //SIDENAV INITIALIZE
        $('.sidenav').sidenav({
                edge: 'left',
                inDuration: 1000,
                outDuration: 1000
        });
        $(document).ready(function() {
            //Dropdown initialize
            $('.dropdown-trigger').dropdown();
        });
          //slider init
        $('.slider').slider({
            indicators: false, 
            height: 400,
            duration: 2000,
            interval: 2000
        });
    </script>
		<script>
            let cartList = [];


$(document).ready(function () {
	cartList = JSON.parse(localStorage.getItem("cartList")) || [];
	console.log(cartList);

	$(".header-brand").click(function () {
		window.location.href = "home.html";

	});

	$("#itemPastries").click(function () {
		window.location.href = "pastries.html";

	});

	$("#itemDesserts").click(function () {
		window.location.href = "desserts.html";

	});

	$("#itemDrinks").click(function () {
		window.location.href = "drinks.html";

	});

	$(".order-item").click(function () {
		let name = $(this).find(".item-name").text();
		let price = $(this).find(".price").text();
		let img = $(this).find("img").attr("src");
		
		let category = $(this).find(".item-name").attr("class").split(" ")[1];
		
		$(".parent-container").prepend("<div class='block-screen'></div><div class='item-popup'>"
					+ "<button class='x-cancel' onclick='removePopup()'>✖</button>"
					+ "<div class='center-flex'>"
						+ "<img class='brand-img' src='https://i.imgur.com/ChSKUzT.png'>"
						+ "<label class='brand-label'>" + $(".banner-texts label:first").text() + "</label>"
					+ "</div><div class='center-flex'>"
						+ "<img src='" + img + "' height='170px'>"
						+ "<div>"
							+ "<label>" + name + "</label>"
							+ "<label>" + price + "</label>"
							+ "<button class='popup-ok' onclick='addToCart(\"" + name + "\"," + price.substring(2) + ",\"" + img + "\",\"" + category + "\")'>ADD TO CART</button>"
					+ "</div></div></div>");
		$(".item-popup").fadeIn("ease");
	});
		
	if (cartList.length != 0) {
		let totalAmount = 0;		
		
		cartList.forEach(item => {
			let cartCategories = document.querySelectorAll(".cart-category");
			
			totalAmount += parseFloat(item.price);

			for  (let index = 0; index < cartCategories.length; index++) {
				if (cartCategories[index].classList.contains(item.category)) {


					cartCategories[index].innerHTML += "<div class='cart-item center-flex'>"
								+ "<div class='center-flex'><img src='" + item.img + "'></div>"
								+ "<p>" + item.name + "<br>P " + item.price + ".00</p>"
							+ "</div>";
				}
			}


			$(".order-list").append("<div class='listed center-flex'>"
							+ "<label>1 " + item.name + "</label>" 
							+ "<label>P " + item.price + ".00</label>" 
						+ "</div>");

		});

		$("#totalAmount").text("Total Amount: P " + totalAmount + ".00");
		$(".order-list").append("<div class='listed center-flex'>"
						+ "<label>TOTAL</label>" 
						+ "<label>P " + totalAmount + ".00</label>" 
					+ "</div>");
	}

	if (localStorage.getItem("payment") === null) {
		localStorage.setItem("payment", "Cash On Delivery");
	}
	
	$(".mode-options div:first").click( function () {
		$(this).css("border", "4px solid blue");
		$(".mode-options div:last").css("border", "4px solid #67481b");
		localStorage.setItem("payment", "Cash On Delivery");
	});

	$(".mode-options div:last").click( function () {
		$(this).css("border", "4px solid blue");
		$(".mode-options div:first").css("border", "4px solid #67481b");
		localStorage.setItem("payment", "GCash");
	});

	$("#modePayment").text("Mode of Payment: " + localStorage.getItem("payment"));
});

class Order {
	constructor (name, price, img, category) {
		this.name = name;
		this.price = price;
		this.img = img;
		this.category = category;
	}
}

function removePopup() {
	$(".item-popup").fadeOut("1000", function() {
		$(this).remove();
		$(".block-screen").remove();
	});
}

function backToCategory() {
		window.location.href = "categories.html";
}

function seeCart() {
		window.location.href = "cart.html";
}

function addToCart(name, price, img, category) {
	console.log(name);
	console.log(price);
	console.log(img);
	console.log(category);

	let order = new Order(name, price, img, category); 
	
	cartList.push(order);
	localStorage.setItem("cartList", JSON.stringify(cartList));

	$(".popup-ok").text("ORDER ADDED!")
	$(".popup-ok").css("background-color", "#fa9600");

	removePopup();
}

function checkOut() {
	window.location.href = "payment.html";
}

function backToMenu() {
	localStorage.clear();
	window.location.href = "categories.html";
}
        </script>
	</body>

 	<footer>
 		<a>Give Feedback</a>
		<b>·</b>
		<a>Contact Service</a>
		<b>·</b>
		<a>About Us</a>
 	</footer>
</html>